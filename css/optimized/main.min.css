/* ==============================================
   LA MANUFACTURE DE LAURENCE - CSS OPTIMISÉ
   Version 2.0 - Performance et Accessibilité
   ============================================== */

/* Reset moderne et performant */
*,*::before,*::after{box-sizing:border-box}
*{margin:0;padding:0}
html{font-size:16px;line-height:1.6;-webkit-text-size-adjust:100%}
body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;color:#333;background:#fff}
img,picture,video,canvas,svg{display:block;max-width:100%}
input,button,textarea,select{font:inherit}
p,h1,h2,h3,h4,h5,h6{overflow-wrap:break-word}

/* Variables CSS pour cohérence */
:root {
  --primary-color: #2c3e50;
  --secondary-color: #e74c3c;
  --accent-color: #3498db;
  --success-color: #27ae60;
  --warning-color: #f39c12;
  --error-color: #e74c3c;
  --text-color: #333;
  --light-bg: #f8f9fa;
  --border-color: #dee2e6;
  --shadow: 0 2px 10px rgba(0,0,0,0.1);
  --radius: 8px;
  --transition: all 0.3s ease;
  --font-size-sm: 0.875rem;
  --font-size-lg: 1.125rem;
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
}

/* Layout de base optimisé */
.container{max-width:1200px;margin:0 auto;padding:0 var(--spacing-md)}
.row{display:flex;flex-wrap:wrap;margin:0 calc(var(--spacing-sm) * -1)}
.col{flex:1;padding:0 var(--spacing-sm)}

/* Grid moderne pour agenda */
.calendar-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:1px;background:var(--border-color)}
.calendar-cell{background:#fff;min-height:80px;padding:var(--spacing-xs);border:none}

/* Boutons optimisés */
.btn{
  display:inline-flex;align-items:center;justify-content:center;
  padding:var(--spacing-sm) var(--spacing-md);
  border:none;border-radius:var(--radius);
  font-weight:500;text-decoration:none;
  cursor:pointer;transition:var(--transition);
  white-space:nowrap;
}
.btn:focus{outline:2px solid var(--accent-color);outline-offset:2px}
.btn-primary{background:var(--primary-color);color:#fff}
.btn-primary:hover{background:#34495e}
.btn-secondary{background:var(--secondary-color);color:#fff}
.btn-secondary:hover{background:#c0392b}
.btn-success{background:var(--success-color);color:#fff}
.btn-success:hover{background:#229954}

/* Formulaires optimisés */
.form-group{margin-bottom:var(--spacing-md)}
.form-label{display:block;margin-bottom:var(--spacing-xs);font-weight:500}
.form-control{
  width:100%;padding:var(--spacing-sm);
  border:1px solid var(--border-color);
  border-radius:var(--radius);
  transition:var(--transition);
}
.form-control:focus{border-color:var(--accent-color);outline:none;box-shadow:0 0 0 3px rgba(52,152,219,0.1)}

/* Modales optimisées */
.modal{
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,0.5);z-index:1000;
  display:flex;align-items:center;justify-content:center;
  opacity:0;visibility:hidden;transition:var(--transition);
}
.modal.show{opacity:1;visibility:visible}
.modal-content{
  background:#fff;border-radius:var(--radius);
  max-width:90vw;max-height:90vh;
  transform:scale(0.9);transition:var(--transition);
  overflow:auto;
}
.modal.show .modal-content{transform:scale(1)}

/* Navigation mobile hamburger */
.mobile-nav{display:none}
.hamburger{
  display:flex;flex-direction:column;
  width:30px;height:20px;cursor:pointer;
}
.hamburger span{
  height:3px;background:var(--primary-color);
  margin:2px 0;transition:var(--transition);
}
.hamburger.active span:nth-child(1){transform:rotate(45deg) translate(5px,5px)}
.hamburger.active span:nth-child(2){opacity:0}
.hamburger.active span:nth-child(3){transform:rotate(-45deg) translate(7px,-6px)}

/* Toast notifications */
.toast{
  position:fixed;top:20px;right:20px;
  padding:var(--spacing-md);border-radius:var(--radius);
  color:#fff;font-weight:500;z-index:2000;
  transform:translateX(100%);transition:var(--transition);
}
.toast.show{transform:translateX(0)}
.toast-success{background:var(--success-color)}
.toast-error{background:var(--error-color)}
.toast-warning{background:var(--warning-color);color:#333}
.toast-info{background:var(--accent-color)}

/* Animations performance */
.fade-in{animation:fadeIn 0.3s ease}
.slide-up{animation:slideUp 0.3s ease}
.bounce{animation:bounce 0.6s ease}

@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes slideUp{from{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}
@keyframes bounce{0%,20%,50%,80%,100%{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}

/* Responsive optimisé */
@media (max-width:768px){
  .container{padding:0 var(--spacing-sm)}
  .btn{padding:var(--spacing-xs) var(--spacing-sm);font-size:var(--font-size-sm)}
  .calendar-cell{min-height:60px}
  .mobile-nav{display:block}
  .desktop-nav{display:none}
  .modal-content{margin:var(--spacing-md)}
  
  /* Navigation mobile */
  .mobile-menu{
    position:fixed;top:0;left:-100%;
    width:80%;height:100%;background:#fff;
    transition:var(--transition);z-index:1001;
    padding:var(--spacing-xl) var(--spacing-md);
  }
  .mobile-menu.open{left:0}
  .mobile-overlay{
    position:fixed;top:0;left:0;width:100%;height:100%;
    background:rgba(0,0,0,0.5);z-index:1000;
    opacity:0;visibility:hidden;transition:var(--transition);
  }
  .mobile-overlay.show{opacity:1;visibility:visible}
}

/* Optimisations pour accessibilité */
@media (prefers-reduced-motion:reduce){
  *,*::before,*::after{animation-duration:0.01ms!important;animation-iteration-count:1!important;transition-duration:0.01ms!important}
}

@media (prefers-color-scheme:dark){
  :root{
    --text-color:#e9ecef;
    --light-bg:#212529;
    --border-color:#495057;
  }
  body{background:#1a1a1a;color:var(--text-color)}
  .modal-content{background:#2d2d2d}
  .calendar-cell{background:#2d2d2d}
  .form-control{background:#2d2d2d;color:var(--text-color)}
}

/* Utilitaires */
.hidden{display:none!important}
.sr-only{position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}
.text-center{text-align:center}
.text-right{text-align:right}
.mt-1{margin-top:var(--spacing-sm)}
.mt-2{margin-top:var(--spacing-md)}
.mb-1{margin-bottom:var(--spacing-sm)}
.mb-2{margin-bottom:var(--spacing-md)}
.p-1{padding:var(--spacing-sm)}
.p-2{padding:var(--spacing-md)}
